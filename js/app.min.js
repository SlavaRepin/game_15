(()=>{"use strict";const e=document.querySelector(".game__over"),t=document.querySelector(".game__btn--start"),n=document.querySelector(".game__counter-sec"),o=document.querySelector(".game__counter-min"),s=document.querySelector(".game__counter-hour"),i=document.querySelector(".game__counter"),l=n.lastElementChild,c=n.firstElementChild,a=o.lastElementChild,r=o.firstElementChild,m=s.lastElementChild,u=s.firstElementChild;let d,g,f,_,C,p,v=+l.textContent,L=+c.textContent,S=+a.textContent,h=+r.textContent,y=+m.textContent,x=+u.textContent;function T(){e.classList.add("_active"),q.classList.add("_pause"),E.classList.remove("_active"),clearTimeout(p),clearTimeout(C),clearTimeout(_),clearTimeout(f),clearTimeout(g),clearTimeout(d),document.querySelector(".audio-over").play()}const A=document.querySelector(".game__decors");t.addEventListener("click",(function(){A.classList.add("_passive"),t.classList.add("_active"),q.classList.remove("_pause"),i.classList.remove("_pause"),i.classList.add("_active"),E.classList.add("_active"),setTimeout((function e(){let t,n,o,s,i;9==y&&5==h&&9==S&&5==L&&9==v&&(++x,u.textContent=String(x),y=-1),5==h&&9==S&&5==L&&9==v&&(++y,m.textContent=String(y),h=-1),9==S&&5==L&&9==v&&(++h,r.textContent=String(h),S=-1),5==L&&9==v&&(++S,a.textContent=String(S),L=-1),9==v&&(++L,c.textContent=String(L),v=-1),++v,l.textContent=String(v),v>8&&(t=()=>{++L,c.textContent=String(L),v=-1}),5==L&&v>8&&(n=()=>{++S,a.textContent=String(S),L=-1}),9==S&&5==L&&v>8&&(o=()=>{++h,r.textContent=String(h),S=-1}),5==h&&9==S&&5==L&&v>8&&(s=()=>{++y,m.textContent=String(y),h=-1}),9==y&&5==h&&9==S&&5==L&&v>8&&(i=()=>{++x,u.textContent=String(x),y=-1}),p=setTimeout(i,900),C=setTimeout(s,900),_=setTimeout(o,900),f=setTimeout(n,900),g=setTimeout(t,900),d=setTimeout(e,900)}),900)}));const E=document.querySelector(".game__btn--pause"),q=document.querySelector(".game__body");function M(){clearTimeout(p),clearTimeout(C),clearTimeout(_),clearTimeout(f),clearTimeout(g),clearTimeout(d),E.classList.remove("_active"),t.classList.remove("_active"),q.classList.add("_pause"),i.classList.add("_pause")}let b;E.addEventListener("click",(e=>{A.classList.remove("_passive"),setTimeout(M,900)})),document.querySelector(".game__btn--restart").addEventListener("click",(e=>{setTimeout(b,900),t.classList.remove("_active")})),window.onload=()=>{const t=document.documentElement.clientHeight,n=document.querySelector(".game__steps span");let o=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];console.log(t),b=()=>{clearTimeout(d),v=0,L=0,l.textContent=v,c.textContent=L,S=0,h=0,a.textContent=S,r.textContent=h,y=0,x=0,m.textContent=y,u.textContent=x,A.classList.remove("_passive"),i.classList.remove("_active"),i.classList.remove("_pause"),q.classList.add("_pause"),E.classList.remove("_active"),e.classList.remove("_active"),n.textContent="0";let t=document.querySelector(".item-game--empty");const s=Math.floor(10*Math.random()+5*Math.random()),g=document.querySelectorAll(".item-game")[s];if(console.log(s),console.log(g),15!=s){let e=g.innerHTML,n=t.innerHTML,o=g.className,s=t.className;t.innerHTML=e,g.innerHTML=n,g.className=s,t.className=o}const f=document.querySelectorAll(".item-game__num");let _=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15].sort((()=>Math.random()-.5)),C=[];_.forEach(((e,t)=>{let n=String(e);C.push(n)}));let p=[];for(let e=0;e<f.length;e++){let t=f[e];for(let n=0;n<C.length;n++)e===n&&(t.textContent=C[n]);let n=+t.textContent;p.push(n)}!0==(JSON.stringify(p)===JSON.stringify(o))&&T()},b(),q.addEventListener("pointerdown",(function(e){if(e.preventDefault(),console.log(e),e.target.classList.contains("item-game__num")){let t=e.target;const n=t.parentElement;console.log(n);let s=document.querySelector(".item-game--empty"),i=s.getBoundingClientRect().right-s.getBoundingClientRect().left,l=s.getBoundingClientRect().bottom-s.getBoundingClientRect().top;function c(e){e.preventDefault()}q.addEventListener("pointermove",c,!1);const a=s.offsetWidth+1;let r=Math.ceil(n.offsetLeft+n.offsetWidth/2),m=Math.ceil(n.offsetTop+n.offsetWidth/2),u=Math.ceil(s.offsetLeft+s.offsetWidth/2),d=Math.ceil(s.offsetTop+s.offsetWidth/2),g=Math.sqrt(Math.pow(Math.abs(r-u),2)+Math.pow(Math.abs(m-d),2));function f(e){e.preventDefault(),console.log("MOUSEUP"),console.log(e),console.log(e.currentTarget);let r=e.clientX-s.getBoundingClientRect().left,m=e.clientY-s.getBoundingClientRect().top;const u=document.querySelector(".game__steps span");let d=+u.textContent;const f=document.getElementsByClassName("item-game__num");if(console.log(f),r<=i&&r>0&&m<=l&&m>0&&g<=a){console.log(r);let o=e.target.parentElement;console.log(e.target),console.log(o),s.append(t),s.classList.remove("item-game--empty"),n.classList.add("item-game--empty"),document.querySelector(".audio-item").play(),u.textContent=String(++d)}else console.log("error");let _=[];for(let e of f){let t=+e.textContent;_.push(t)}console.log(_),JSON.stringify(_)===JSON.stringify(o)&&T(),q.removeEventListener("pointermove",c)}q.addEventListener("pointerup",f,{once:!0})}}),!1)},function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data: image / webp; base64, UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA / veff / 0PP8bA//LwYAAA"}()})();